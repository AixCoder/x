# ğŸŒ¸ Rails 7 ç¾å­¦ä¹‹æ—… - æ—¥æœ¬æ–‡å­¦åè¨€ Web App

æ¬¢è¿ï¼è®©æˆ‘ä»¬ä¸€èµ·ç”¨ Rails 7 å’Œ Ruby åˆ›å»ºä¸€ä¸ªç®€æ´ä¼˜é›…çš„ Web åº”ç”¨ã€‚

## ğŸ“š ç¬¬ä¸€æ­¥ï¼šç†è§£ Rails çš„å“²å­¦

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆç†è§£ Rails å’Œ Ruby çš„ç¾å­¦ï¼š

### Ruby çš„ç¾å­¦
- **ç®€æ´ä¼˜é›…**ï¼šRuby çš„è¯­æ³•è¯»èµ·æ¥åƒè‡ªç„¶è¯­è¨€
- **çº¦å®šä¼˜äºé…ç½®**ï¼šRails æœ‰çº¦å®šï¼Œéµå¾ªå®ƒä»¬ä¼šè®©ä»£ç æ›´æ¸…æ™°
- **DRY åŸåˆ™**ï¼šDon't Repeat Yourselfï¼ˆä¸è¦é‡å¤è‡ªå·±ï¼‰

### Rails çš„ MVC æ¶æ„
Rails ä½¿ç”¨ MVCï¼ˆModel-View-Controllerï¼‰æ¨¡å¼ï¼š
- **Modelï¼ˆæ¨¡å‹ï¼‰**ï¼šå¤„ç†æ•°æ®é€»è¾‘
- **Viewï¼ˆè§†å›¾ï¼‰**ï¼šæ˜¾ç¤ºç»™ç”¨æˆ·çœ‹çš„å†…å®¹
- **Controllerï¼ˆæ§åˆ¶å™¨ï¼‰**ï¼šè¿æ¥æ¨¡å‹å’Œè§†å›¾ï¼Œå¤„ç†ç”¨æˆ·è¯·æ±‚

---

## ğŸ¯ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºé¦–é¡µæ§åˆ¶å™¨

### æ­¥éª¤ 2.1ï¼šç†è§£è·¯ç”±ï¼ˆRoutesï¼‰

è·¯ç”±å°±åƒç½‘ç«™çš„"åœ°å€ç°¿"ï¼Œå‘Šè¯‰ Railsï¼š"å½“ç”¨æˆ·è®¿é—®æŸä¸ª URL æ—¶ï¼Œåº”è¯¥æ‰§è¡Œä»€ä¹ˆæ“ä½œ"ã€‚

### æ­¥éª¤ 2.2ï¼šåˆ›å»ºæ§åˆ¶å™¨

åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæˆ‘ä¼šè§£é‡Šæ¯ä¸ªéƒ¨åˆ†ï¼‰ï¼š

```bash
rails generate controller Home index
```

**è¿™ä¸ªå‘½ä»¤åšäº†ä»€ä¹ˆï¼Ÿ**
- `rails generate`ï¼šRails çš„ç”Ÿæˆå™¨å‘½ä»¤
- `controller`ï¼šæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨
- `Home`ï¼šæ§åˆ¶å™¨çš„åå­—ï¼ˆé¦–å­—æ¯å¤§å†™ï¼Œå•æ•°å½¢å¼ï¼‰
- `index`ï¼šæ§åˆ¶å™¨é‡Œçš„ä¸€ä¸ªåŠ¨ä½œï¼ˆactionï¼‰

**Ruby çš„å‘½åçº¦å®š**ï¼š
- æ§åˆ¶å™¨åï¼šé¦–å­—æ¯å¤§å†™ï¼Œå•æ•°ï¼ˆå¦‚ `Home`ï¼‰
- æ–‡ä»¶åï¼šå°å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš”ï¼ˆå¦‚ `home_controller.rb`ï¼‰

### æ­¥éª¤ 2.3ï¼šæŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶

è¿è¡Œå‘½ä»¤åï¼ŒRails ä¼šè‡ªåŠ¨åˆ›å»ºå‡ ä¸ªæ–‡ä»¶ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬ï¼š

1. **`app/controllers/home_controller.rb`** - æ§åˆ¶å™¨æ–‡ä»¶
2. **`app/views/home/index.html.erb`** - è§†å›¾æ–‡ä»¶ï¼ˆè¿™å°±æ˜¯æˆ‘ä»¬è¦è®¾è®¡çš„é¡µé¢ï¼‰
3. **`config/routes.rb`** - è·¯ç”±æ–‡ä»¶ï¼ˆRails ä¼šè‡ªåŠ¨æ·»åŠ è·¯ç”±ï¼‰

---

## ğŸ¨ ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡ç®€æ´çš„é¦–é¡µ

### æ­¥éª¤ 3.1ï¼šç¼–è¾‘æ§åˆ¶å™¨

æ‰“å¼€ `app/controllers/home_controller.rb`ï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```ruby
class HomeController < ApplicationController
  def index
  end
end
```

**è§£é‡Š**ï¼š
- `class HomeController`ï¼šå®šä¹‰ä¸€ä¸ªç±»ï¼ˆRuby ä¸­ä¸€åˆ‡çš†å¯¹è±¡ï¼‰
- `< ApplicationController`ï¼šç»§æ‰¿è‡ª ApplicationControllerï¼ˆè¿™æ˜¯ Ruby çš„ç»§æ‰¿è¯­æ³•ï¼‰
- `def index`ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼ˆæ–¹æ³•åæ˜¯ `index`ï¼‰
- `end`ï¼šRuby ç”¨ `end` æ¥ç»“æŸä»£ç å—

**ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€äº›æ—¥æœ¬æ–‡å­¦åè¨€çš„æ•°æ®**ï¼š

åœ¨ `index` æ–¹æ³•ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªå®ä¾‹å˜é‡ï¼ˆä»¥ `@` å¼€å¤´ï¼‰ï¼š

```ruby
class HomeController < ApplicationController
  def index
    @quotes = [
      "ä¸€æœŸä¸€ä¼š - ä¸€ç”Ÿåªæœ‰ä¸€æ¬¡çš„ç›¸é‡",
      "èŠ±ã¯æ¡œæœ¨ã€äººã¯æ­¦å£« - èŠ±ä¸­æ¨±èŠ±ï¼Œäººä¸­æ­¦å£«",
      "ç„¡å¸¸è¿…é€Ÿ - ä¸–äº‹æ— å¸¸ï¼Œè½¬ç¬å³é€",
      "é¢¨ã®ã”ã¨ãã€é›²ã®ã”ã¨ã - å¦‚é£å¦‚äº‘",
      "é™ã‹ãªå¿ƒã¯ã€ã™ã¹ã¦ã®ç¾ã®æº - é™å¿ƒæ˜¯ä¸€åˆ‡ç¾çš„æºæ³‰"
    ]
    @quote = @quotes.sample
  end
end
```

**è§£é‡Š**ï¼š
- `@quotes`ï¼šä¸€ä¸ªæ•°ç»„ï¼Œå­˜å‚¨å¤šæ¡åè¨€ï¼ˆ`@` è¡¨ç¤ºå®ä¾‹å˜é‡ï¼Œå¯ä»¥åœ¨è§†å›¾ä¸­ä½¿ç”¨ï¼‰
- `@quote = @quotes.sample`ï¼šéšæœºé€‰æ‹©ä¸€æ¡åè¨€ï¼ˆ`sample` æ˜¯ Ruby æ•°ç»„çš„æ–¹æ³•ï¼‰

**Ruby çš„ç¾å­¦**ï¼š
- æ•°ç»„ç”¨æ–¹æ‹¬å· `[]` å®šä¹‰
- å­—ç¬¦ä¸²ç”¨å¼•å·åŒ…è£¹
- `.sample` æ–¹æ³•ä¼˜é›…åœ°éšæœºé€‰æ‹©å…ƒç´ 

---

### æ­¥éª¤ 3.2ï¼šè®¾è®¡è§†å›¾ï¼ˆViewï¼‰

æ‰“å¼€ `app/views/home/index.html.erb`ï¼Œè¿™æ˜¯æˆ‘ä»¬è¦è®¾è®¡çš„é¡µé¢ã€‚

**ERB æ˜¯ä»€ä¹ˆï¼Ÿ**
- ERB = Embedded Rubyï¼ˆåµŒå…¥çš„ Rubyï¼‰
- å¯ä»¥åœ¨ HTML ä¸­å†™ Ruby ä»£ç 
- `<%= %>` ä¼šè¾“å‡º Ruby ä»£ç çš„ç»“æœ
- `<% %>` åªæ‰§è¡Œ Ruby ä»£ç ï¼Œä¸è¾“å‡º

**ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€æ´ä¼˜é›…çš„é¡µé¢**ï¼š

```erb
<div class="container">
  <div class="quote-card">
    <h1 class="quote-text">
      <%= @quote %>
    </h1>
    <p class="quote-subtitle">æ—¥æœ¬æ–‡å­¦åè¨€</p>
  </div>
</div>
```

**è§£é‡Š**ï¼š
- `<div class="container">`ï¼šä¸€ä¸ªå®¹å™¨ divï¼Œç”¨äºå¸ƒå±€
- `<%= @quote %>`ï¼šè¾“å‡ºæ§åˆ¶å™¨ä¸­å®šä¹‰çš„ `@quote` å˜é‡
- æˆ‘ä»¬ä½¿ç”¨äº†è¯­ä¹‰åŒ–çš„ class åç§°ï¼Œä¾¿äºåç»­æ·»åŠ æ ·å¼

---

### æ­¥éª¤ 3.3ï¼šæ·»åŠ ç®€æ´çš„æ ·å¼

æ‰“å¼€ `app/assets/stylesheets/application.css`ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š

```css
/* é‡ç½®å’ŒåŸºç¡€æ ·å¼ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.container {
  width: 100%;
  max-width: 800px;
}

.quote-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 60px 40px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
  text-align: center;
  backdrop-filter: blur(10px);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.quote-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 25px 70px rgba(0, 0, 0, 0.15);
}

.quote-text {
  font-size: 2.5rem;
  font-weight: 300;
  color: #2c3e50;
  line-height: 1.6;
  margin-bottom: 20px;
  letter-spacing: 0.05em;
}

.quote-subtitle {
  font-size: 1rem;
  color: #7f8c8d;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}
```

**è®¾è®¡ç†å¿µ**ï¼š
- **ç®€æ´**ï¼šå¤§é‡ç•™ç™½ï¼Œçªå‡ºå†…å®¹
- **ä¼˜é›…**ï¼šæŸ”å’Œçš„æ¸å˜èƒŒæ™¯ï¼Œåœ†è§’å¡ç‰‡
- **æ—¥å¼ç¾å­¦**ï¼šä½¿ç”¨æ—¥æ–‡å­—ä½“ï¼Œè½»ç›ˆçš„é˜´å½±
- **å“åº”å¼**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸

---

### æ­¥éª¤ 3.4ï¼šè®¾ç½®é¦–é¡µè·¯ç”±

æ‰“å¼€ `config/routes.rb`ï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œï¼š

```ruby
# Defines the root path route ("/")
# root "posts#index"
```

ä¿®æ”¹ä¸ºï¼š

```ruby
# Defines the root path route ("/")
root "home#index"
```

**è§£é‡Š**ï¼š
- `root`ï¼šå®šä¹‰ç½‘ç«™çš„æ ¹è·¯å¾„ï¼ˆå°±æ˜¯ `http://localhost:3000/`ï¼‰
- `"home#index"`ï¼šè¡¨ç¤º `HomeController` çš„ `index` åŠ¨ä½œ
- `#` æ˜¯ Rails è·¯ç”±çš„çº¦å®šè¯­æ³•

---

## ğŸš€ ç¬¬å››æ­¥ï¼šå¯åŠ¨æœåŠ¡å™¨

### æ­¥éª¤ 4.1ï¼šå®‰è£…ä¾èµ–

åœ¨ç»ˆç«¯è¿è¡Œï¼š

```bash
bundle install
```

è¿™ä¼šå®‰è£…é¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰ gemï¼ˆRuby çš„åŒ…ç®¡ç†å™¨ï¼Œç±»ä¼¼ npmï¼‰

### æ­¥éª¤ 4.2ï¼šå¯åŠ¨æœåŠ¡å™¨

```bash
rails server
```

æˆ–è€…ç®€å†™ï¼š

```bash
rails s
```

### æ­¥éª¤ 4.3ï¼šæŸ¥çœ‹ä½ çš„ä½œå“

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š`http://localhost:3000`

ä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªç®€æ´ä¼˜é›…çš„é¡µé¢ï¼Œæ˜¾ç¤ºéšæœºé€‰æ‹©çš„æ—¥æœ¬æ–‡å­¦åè¨€ï¼

---

## ğŸ“ ç¬¬äº”æ­¥ï¼šç†è§£ä»£ç æµç¨‹

è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹å½“ç”¨æˆ·è®¿é—®é¦–é¡µæ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼š

1. **ç”¨æˆ·è®¿é—®** `http://localhost:3000`
2. **è·¯ç”±ç³»ç»Ÿ**ï¼ˆ`routes.rb`ï¼‰è¯†åˆ«è¿™æ˜¯æ ¹è·¯å¾„ï¼ŒæŒ‡å‘ `HomeController#index`
3. **æ§åˆ¶å™¨**ï¼ˆ`home_controller.rb`ï¼‰çš„ `index` æ–¹æ³•æ‰§è¡Œï¼š
   - åˆ›å»º `@quotes` æ•°ç»„
   - éšæœºé€‰æ‹©ä¸€æ¡åè¨€å­˜å…¥ `@quote`
4. **è§†å›¾**ï¼ˆ`index.html.erb`ï¼‰æ¸²æŸ“ï¼š
   - ä½¿ç”¨ `<%= @quote %>` æ˜¾ç¤ºåè¨€
   - åº”ç”¨ CSS æ ·å¼
5. **ç”¨æˆ·çœ‹åˆ°** ç¾ä¸½çš„é¡µé¢ï¼

è¿™å°±æ˜¯ Rails çš„ MVC æµç¨‹ï¼Œæ¸…æ™°è€Œä¼˜é›…ï¼

---

## âœ¨ ä¸‹ä¸€æ­¥å»ºè®®

å®ŒæˆåŸºç¡€é¡µé¢åï¼Œä½ å¯ä»¥å°è¯•ï¼š

1. **æ·»åŠ æ›´å¤šåè¨€**ï¼šåœ¨ `@quotes` æ•°ç»„ä¸­æ·»åŠ æ›´å¤šæ—¥æœ¬æ–‡å­¦åè¨€
2. **æ·»åŠ åˆ·æ–°æŒ‰é’®**ï¼šè®©ç”¨æˆ·å¯ä»¥ç‚¹å‡»åˆ·æ–°çœ‹åˆ°æ–°çš„åè¨€
3. **æ·»åŠ åŠ¨ç”»æ•ˆæœ**ï¼šè®©åè¨€åˆ‡æ¢æ—¶æœ‰æ·¡å…¥æ·¡å‡ºæ•ˆæœ
4. **æ·»åŠ ä½œè€…ä¿¡æ¯**ï¼šä¸ºæ¯æ¡åè¨€æ·»åŠ ä½œè€…

---

## ğŸ’¡ Ruby å’Œ Rails çš„ç¾å­¦æ€»ç»“

- **çº¦å®šä¼˜äºé…ç½®**ï¼šéµå¾ªçº¦å®šï¼Œä»£ç æ›´æ¸…æ™°
- **DRY åŸåˆ™**ï¼šä¸é‡å¤ä»£ç 
- **ä¼˜é›…ç®€æ´**ï¼šRuby ä»£ç è¯»èµ·æ¥åƒè‡ªç„¶è¯­è¨€
- **MVC åˆ†ç¦»**ï¼šå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œä»£ç æ›´æ˜“ç»´æŠ¤

è®°ä½ï¼šç¼–ç¨‹ä¸ä»…æ˜¯å†™ä»£ç ï¼Œæ›´æ˜¯åˆ›é€ ç¾ã€‚Rails å’Œ Ruby çš„è®¾è®¡å“²å­¦å°±æ˜¯è®©ä»£ç æ—¢å®ç”¨åˆä¼˜é›…ï¼

ç¥ä½ ç¼–ç¨‹æ„‰å¿«ï¼ğŸŒ¸
